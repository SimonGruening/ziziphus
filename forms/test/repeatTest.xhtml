<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:vra="http://www.vraweb.org/vracore4.htm" xmlns:bfc="http://betterform.sourceforge.net/xforms/controls" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>Ziziphus_Image_DB</title>
        <style type="text/css">
                body{
                    font-size: 0.8em;
                }
                .#r-agent{
                    width: 400px;
                }
            </style>
    </head>
    <body>
        <div id="xforms">
            <div style="display:none">
                <xf:model id="child-model" schema="../../resources/xsd/vra-types.xsd">
                    <xf:instance id="i-agentSet">
                        <agentSet xmlns="http://www.vraweb.org/vracore4.htm">
                            <agent pref="false">
                                <attribution/>
                                <attribution/>
                                <culture/>
                                <dates type="">
                                    <earliestDate circa="false"/>
                                    <latestDate circa="false"/>
                                </dates>
                                <name type="" pref="false"/>
                                <role/>
                            </agent>
                        </agentSet>
                    </xf:instance>
                    <xf:bind nodeset="instance()">
                        <xf:bind nodeset="vra:agent">
                            <xf:bind nodeset="@pref" type="xf:boolean"/>
                            <xf:bind nodeset="vra:attribution"/>
                            <xf:bind nodeset="vra:culture"/>
                            <xf:bind nodeset="vra:dates">
                                <xf:bind nodeset="@type" type="vra:agentDateTypeType"/>
                                <xf:bind nodeset="vra:earliestDate">
                                    <xf:bind nodeset="@circa" type="xsd:boolean"/>
                                </xf:bind>
                                <xf:bind nodeset="vra:latestDate">
                                    <xf:bind nodeset="@circa" type="xsd:boolean"/>
                                </xf:bind>
                            </xf:bind>
                            <xf:bind nodeset="vra:name">
                                <xf:bind nodeset="@type" type="vra:agentNameTypeType"/>
                            </xf:bind>
                            <xf:bind nodeset="vra:role"/>
                        </xf:bind>
                    </xf:bind>
                    <xf:instance id="i-attributes">
                        <data xmlns="http://www.vraweb.org/vracore4.htm">
                            <vraElement dataDate="" extent="" href="" pref="false" refid="" rules="" source="" vocab=""/>
                        </data>
                    </xf:instance>
                    <xf:bind nodeset="instance('i-attributes')/*[1]">
                        <xf:bind nodeset="@dataDate" type="vra:dateValueType"/>
                        <xf:bind nodeset="@href" type="xsd:anyURI"/>
                        <xf:bind nodeset="@pref" type="xsd:boolean"/>
                    </xf:bind>
                    <xf:instance id="i-util">
                        <data xmlns="">
                            <currentElement/>
                        </data>
                    </xf:instance>
                </xf:model>
            </div>
            <xf:group ref="instance()/vra:agent" appearance="minimal" class="vraRecord" model="child-model">
                <xf:label>AgentSet</xf:label>
                <xf:trigger>
                    <xf:label>+</xf:label>
                    <xf:insert nodeset="vra:agent[last()]"/>
                </xf:trigger>
                <xf:trigger>
                    <xf:label>-</xf:label>
                    <xf:delete nodeset="vra:agent[index('r-agent')]"/>
                </xf:trigger>
                    <!--<xf:repeat id="r-agent" nodeset="vra:agent" appearance="minimal">-->
                <xf:repeat id="r-attribution" nodeset="vra:attribution" appearance="compact">
                    <xf:group>
                        <xf:label>Attribution</xf:label>
                        <xf:input ref=".">
                            <xf:label/>
                        </xf:input>
                        <xf:trigger>
                            <xf:label>Attributes...</xf:label>
                            <bfc:show dialog="attrDialog" ev:event="DOMActivate"/>
                        </xf:trigger>
                    </xf:group>
                </xf:repeat>
                <xf:repeat id="r-culture" nodeset="vra:culture" appearance="compact">
                    <xf:group>
                        <xf:label/>
                        <xf:input ref=".">
                            <xf:label>Culture</xf:label>
                        </xf:input>
                        <xf:trigger>
                            <xf:label>Attributes...</xf:label>
                            <bfc:show dialog="attrDialog" ev:event="DOMActivate"/>
                        </xf:trigger>
                    </xf:group>
                </xf:repeat>
                <xf:repeat id="r-dates" nodeset="vra:dates" appearance="compact">
                    <xf:group>
                        <xf:label>Dates</xf:label>
                        <xf:input ref="./@type">
                            <xf:label>Dates</xf:label>
                        </xf:input>
                        <xf:input ref="./vra:earliestDate">
                            <xf:label>earliest</xf:label>
                        </xf:input>
                        <xf:input ref="./vra:earliestDate/@circa">
                            <xf:label>circa</xf:label>
                        </xf:input>
                        <xf:input ref="./vra:latestDate">
                            <xf:label>latest</xf:label>
                        </xf:input>
                        <xf:input ref="./vra:latestDate/@circa">
                            <xf:label>circa</xf:label>
                        </xf:input>
                        <xf:trigger>
                            <xf:label>Attributes...</xf:label>
                            <bfc:show dialog="attrDialog" ev:event="DOMActivate"/>
                        </xf:trigger>
                    </xf:group>
                </xf:repeat>
       <!--
                                            <xf:group>
                                                <xf:label>Name</xf:label>
                                                <xf:repeat id="r-name" nodeset="vra:name">
                                                    <xf:select1 ref="@type" appearance="minimal">
                                                        <xf:label>Type</xf:label>
                                                    </xf:select1>
                                                    <xf:input ref=".">
                                                        <xf:label>Name</xf:label>
                                                    </xf:input>
                                                    <xf:trigger>
                                                        <xf:label>Attributes...</xf:label>
                                                        <bfc:show dialog="attrDialog" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </xf:repeat>
                                            </xf:group>

                        -->
                    <!--</xf:repeat>-->
            </xf:group>
            <bfc:dialog id="attrDialog">
                <xf:label>Attributes</xf:label>
                <xf:group appearance="full" ref="instance('i-attributes')/vra:vraElement">
                    <xf:label/>
                    <xf:input ref="@dataDate">
                        <xf:label>dataDate</xf:label>
                    </xf:input>
                    <xf:input ref="@pref">
                        <xf:label>pref</xf:label>
                    </xf:input>
                    <xf:input ref="@dataDate">
                        <xf:label>dataDate</xf:label>
                    </xf:input>
                    <xf:input ref="@extent">
                        <xf:label>extent</xf:label>
                    </xf:input>
                    <xf:input ref="@href">
                        <xf:label>href</xf:label>
                    </xf:input>
                    <xf:input ref="@rules">
                        <xf:label>rules</xf:label>
                    </xf:input>
                    <xf:input ref="@source">
                        <xf:label>source</xf:label>
                    </xf:input>
                    <xf:select1 ref="@vocab">
                        <xf:label>vocab</xf:label>
                        <xf:item>
                            <xf:label>Gimme</xf:label>
                            <xf:value>Gimme</xf:value>
                        </xf:item>
                        <xf:item>
                            <xf:label>,gimme</xf:label>
                            <xf:value>,gimme</xf:value>
                        </xf:item>
                        <xf:item>
                            <xf:label>data</xf:label>
                            <xf:value>data</xf:value>
                        </xf:item>
                    </xf:select1>
                </xf:group>
                <xf:group appearance="minimal">
                    <xf:trigger>
                        <xf:label>Ok</xf:label>
                        <bfc:hide dialog="attrDialog"/>
                    </xf:trigger>
                    <xf:trigger appearance="minimal">
                        <xf:label>Cancel</xf:label>
                        <bfc:hide dialog="attrDialog"/>
                    </xf:trigger>
                </xf:group>
            </bfc:dialog>
        </div>
    </body>
</html>